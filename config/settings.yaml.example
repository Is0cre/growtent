# Grow Tent Automation - Main Settings Configuration
# Copy this file to settings.yaml and customize as needed
# This file CAN be committed to git (no secrets here)

# Device GPIO Pins (BCM numbering)
# Active LOW logic: GPIO LOW = device ON, GPIO HIGH = device OFF
gpio_pins:
  lights: 5
  air_pump: 6
  nutrient_pump: 13
  circulatory_fan_1: 16
  circulatory_fan_2: 19
  exhaust_fan: 20
  humidifier: 21
  heater: 23
  dehumidifier: 24

# BME680 Sensor Settings
sensor:
  i2c_address: 0x76  # Try 0x77 if this doesn't work
  read_interval: 30  # seconds between readings
  log_interval: 60  # seconds between database logs

# Camera Settings
camera:
  resolution:
    width: 1920
    height: 1080
  rotation: 0

# Time-lapse Settings
timelapse:
  default_interval: 300  # seconds (5 minutes)
  default_fps: 30  # frames per second for generated video
  auto_start_on_project: true  # Automatically start when project created

# Web Server Settings
server:
  host: "0.0.0.0"
  port: 8000

# Alert Thresholds
alerts:
  enabled: true
  temperature:
    min: 15.0  # Celsius
    max: 32.0
  humidity:
    min: 40.0  # Percentage
    max: 80.0
  notification_interval: 300  # seconds between repeated alerts

# External Server Sync Settings
external_sync:
  enabled: false
  sync_interval: 300  # seconds (5 minutes)
  sync_photos: true
  sync_sensor_data: true
  sync_project_info: true
  sync_analysis_reports: true
  retry_attempts: 3
  retry_delay: 30  # seconds
  # Endpoint paths (appended to external_server.url in secrets.yaml)
  endpoints:
    photos: "/photos/upload"
    sensor_data: "/sensor-data"
    project_info: "/projects"
    analysis_reports: "/reports"

# AI Photo Analysis Settings
ai_analysis:
  enabled: false
  daily_schedule_time: "12:00"  # Time to run daily analysis (24h format)
  analysis_prompt: |
    Analyze this cannabis/plant photo. Assess:
    1. Overall plant health (score 1-10)
    2. Growth stage (seedling, vegetative, flowering, etc.)
    3. Any visible issues (nutrient deficiency, pests, diseases, stress signs)
    4. Color and appearance assessment
    5. Recommendations for improvement
    
    Provide a structured response with these sections.
  send_to_telegram: true
  send_to_external_server: true

# Background Scheduler Settings
scheduler:
  enabled: true
  daily_report_time: "08:00"  # Time to generate daily report
  persist_state: true  # Save scheduler state to recover after restart

# Logging Settings
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  max_file_size: 10485760  # 10 MB
  backup_count: 5  # Number of backup log files to keep
  log_to_console: true
  log_to_file: true
